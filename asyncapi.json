{
  "asyncapi": "2.6.0",
  "defaultContentType": "application/json",
  "info": {
    "title": "FastStream",
    "version": "0.1.0",
    "description": ""
  },
  "servers": {
    "development": {
      "url": "amqp://guest:guest@localhost:5672/",
      "protocol": "amqp",
      "protocolVersion": "0.9.1"
    }
  },
  "channels": {
    "in-queue:_:HandleMsg": {
      "servers": [
        "development"
      ],
      "bindings": {
        "amqp": {
          "is": "routingKey",
          "bindingVersion": "0.2.0",
          "queue": {
            "name": "in-queue",
            "durable": false,
            "exclusive": false,
            "autoDelete": false,
            "vhost": "/"
          },
          "exchange": {
            "type": "default",
            "vhost": "/"
          }
        }
      },
      "subscribe": {
        "bindings": {
          "amqp": {
            "cc": "in-queue",
            "ack": true,
            "bindingVersion": "0.2.0"
          }
        },
        "message": {
          "$ref": "#/components/messages/in-queue:_:HandleMsg:Message"
        }
      }
    }
  },
  "components": {
    "messages": {
      "in-queue:_:HandleMsg:Message": {
        "title": "in-queue:_:HandleMsg:Message",
        "correlationId": {
          "location": "$message.header#/correlation_id"
        },
        "payload": {
          "$ref": "#/components/schemas/SingleEmailNotification"
        }
      }
    },
    "schemas": {
      "SingleEmailNotification": {
        "properties": {
          "recipient": {
            "format": "email",
            "title": "Recipient",
            "type": "string"
          },
          "template_id": {
            "format": "uuid",
            "title": "Template Id",
            "type": "string"
          },
          "tenant_id": {
            "format": "uuid",
            "title": "Tenant Id",
            "type": "string"
          },
          "body_keys": {
            "additionalProperties": true,
            "title": "Body Keys",
            "type": "object"
          },
          "subject_keys": {
            "additionalProperties": true,
            "title": "Subject Keys",
            "type": "object"
          }
        },
        "required": [
          "recipient",
          "template_id",
          "tenant_id",
          "body_keys",
          "subject_keys"
        ],
        "title": "SingleEmailNotification",
        "type": "object"
      }
    }
  }
}